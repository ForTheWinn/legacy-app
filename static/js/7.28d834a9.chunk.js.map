{"version":3,"sources":["packages/wallet/scenes/wallet/components/wallets/nep2-wallet/scenes/import-privatekey/components/encrypt-privatekey/index.tsx"],"names":["EncryptPrivateKey","_ref","privateKey","onEncrypt","_useState","useState","_useState2","Object","_Users_ed_Projects_ftw_repos_ftw_lotto_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","password","setPassword","_useState3","_useState4","isLoading","setLoading","_useState5","_useState6","error","setError","encrypt","Neon","create","account","then","provider","encryptedKey","encrypted","address","catch","message","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","Fragment","className","_components_password_input__WEBPACK_IMPORTED_MODULE_3__","value","onChange","val","onKeyDown","_components_display_error__WEBPACK_IMPORTED_MODULE_4__","onClose","disabled","onClick","type","concat"],"mappings":"2JA8EeA,UA/DW,SAAAC,GAGG,IAF3BC,EAE2BD,EAF3BC,WACAC,EAC2BF,EAD3BE,UAC2BC,EACKC,mBAAS,IADdC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACpBK,EADoBH,EAAA,GACVI,EADUJ,EAAA,GAAAK,EAEKN,oBAAS,GAFdO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAEpBE,EAFoBD,EAAA,GAETE,EAFSF,EAAA,GAAAG,EAGDV,mBAAS,IAHRW,EAAAT,OAAAC,EAAA,EAAAD,CAAAQ,EAAA,GAGpBE,EAHoBD,EAAA,GAGbE,EAHaF,EAAA,GAIrBG,EAAU,WACdL,GAAW,GACKM,IAAKC,OAAOC,QAAQpB,GAEjCiB,QAAQV,GACRc,KAAK,SAAAD,GACJR,GAAW,GACXX,EAAU,CACRqB,SAAU,QACVC,aAAcH,EAAQI,UACtBC,QAASL,EAAQK,QACjBzB,aACAO,eAGHmB,MAAM,SAAAX,GACLC,EAASD,EAAMY,SACff,GAAW,MAIjB,OACEgB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAAA,OAAKE,UAAU,SACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,SAAf,YACAJ,EAAAC,EAAAC,cAACG,EAAA,QAAD,CACEC,MAAO3B,EACP4B,SAAU,SAAAC,GAAG,OAAI5B,EAAY4B,IAC7BC,UAAW,WACL9B,GACFU,QAMRW,EAAAC,EAAAC,cAAA,OAAKE,UAAU,qBACbJ,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,0DACAF,EAAAC,EAAAC,cAAA,kEAGJF,EAAAC,EAAAC,cAAA,WACCf,GAASa,EAAAC,EAAAC,cAACQ,EAAA,QAAD,CAAcX,QAASZ,EAAOwB,QAAS,kBAAMvB,EAAS,OAChEY,EAAAC,EAAAC,cAAA,UACEU,UAAWjC,EACXkC,QAASxB,EACTyB,KAAK,SACLV,UAAS,qBAAAW,OAAuBhC,EAAY,aAAe,KAJ7D","file":"static/js/7.28d834a9.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport Neon from \"@cityofzion/neon-js\";\nimport PasswordInput from \"../../../../components/password-input\";\nimport DisplayError from \"../../../../components/display-error\";\nimport { CurrentWalletProps } from \"../../../../../../../../../types\";\n\ninterface NewWalletProps extends CurrentWalletProps {\n  password: string;\n}\n\ninterface VerifyPrivateKeyProps {\n  privateKey: string;\n  onEncrypt: (wallet: NewWalletProps) => void;\n}\n\nconst EncryptPrivateKey = ({\n  privateKey,\n  onEncrypt,\n}: VerifyPrivateKeyProps) => {\n  const [password, setPassword] = useState(\"\");\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const encrypt = () => {\n    setLoading(true);\n    const account = Neon.create.account(privateKey);\n    account\n      .encrypt(password)\n      .then(account => {\n        setLoading(false);\n        onEncrypt({\n          provider: \"LOCAL\",\n          encryptedKey: account.encrypted,\n          address: account.address,\n          privateKey,\n          password,\n        });\n      })\n      .catch(error => {\n        setError(error.message);\n        setLoading(false);\n      });\n  };\n\n  return (\n    <>\n      <div className=\"field\">\n        <div className=\"label\">Password</div>\n        <PasswordInput\n          value={password}\n          onChange={val => setPassword(val)}\n          onKeyDown={() => {\n            if (password) {\n              encrypt();\n            }\n          }}\n        />\n      </div>\n\n      <div className=\"is-size-7 content\">\n        <ul>\n          <li>Password must be at least 6 characters long.</li>\n          <li>You will need this password to unlock your wallet.</li>\n        </ul>\n      </div>\n      <hr />\n      {error && <DisplayError message={error} onClose={() => setError(\"\")} />}\n      <button\n        disabled={!password}\n        onClick={encrypt}\n        type=\"button\"\n        className={`button is-primary ${isLoading ? \"is-loading\" : \"\"}`}\n      >\n        Encrypt!\n      </button>\n    </>\n  );\n};\n\nexport default EncryptPrivateKey;\n"],"sourceRoot":""}