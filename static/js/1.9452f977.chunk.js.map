{"version":3,"sources":["packages/wallet/scenes/wallet/components/wallets/nep2-wallet/scenes/import-privatekey/components/encrypt-privatekey/index.tsx","packages/wallet/scenes/wallet/components/wallets/nep2-wallet/scenes/import-privatekey/components/verify-privatekey/index.tsx","packages/wallet/scenes/wallet/components/wallets/nep2-wallet/scenes/import-privatekey/index.tsx","packages/wallet/scenes/wallet/components/wallets/nep2-wallet/scenes/create-wallet/components/backup.tsx"],"names":["EncryptPrivateKey","_ref","privateKey","onEncrypt","_useState","useState","_useState2","Object","_Users_ed_Projects_legacy_n2_ftw_repos_ftw_lotto_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","password","setPassword","_useState3","_useState4","isLoading","setLoading","_useState5","_useState6","error","setError","encrypt","Neon","create","account","then","provider","encryptedKey","encrypted","address","catch","message","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","Fragment","className","_components_password_input__WEBPACK_IMPORTED_MODULE_3__","value","onChange","val","onKeyDown","_components_display_error__WEBPACK_IMPORTED_MODULE_4__","onClose","disabled","onClick","type","concat","VerifyPrivateKey","onVerify","setPrivateKey","verifyPrivatekey","is","wif","htmlFor","id","placeholder","e","target","keyCode","_components_display_error__WEBPACK_IMPORTED_MODULE_3__","ImportPrivatekey","props","wallet","setWallet","_create_wallet_components_backup__WEBPACK_IMPORTED_MODULE_2__","assign","_components_encrypt_privatekey__WEBPACK_IMPORTED_MODULE_4__","_components_verify_privatekey__WEBPACK_IMPORTED_MODULE_3__","BackupKeys","isAgreed","setAgreement","onConnected","style","wordBreak","checked"],"mappings":"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","file":"static/js/1.9452f977.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport Neon from \"@cityofzion/neon-js\";\nimport PasswordInput from \"../../../../components/password-input\";\nimport DisplayError from \"../../../../components/display-error\";\nimport { CurrentWalletProps } from \"../../../../../../../../../types\";\n\ninterface NewWalletProps extends CurrentWalletProps {\n  password: string;\n}\n\ninterface VerifyPrivateKeyProps {\n  privateKey: string;\n  onEncrypt: (wallet: NewWalletProps) => void;\n}\n\nconst EncryptPrivateKey = ({\n  privateKey,\n  onEncrypt,\n}: VerifyPrivateKeyProps) => {\n  const [password, setPassword] = useState(\"\");\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const encrypt = () => {\n    setLoading(true);\n    const account = Neon.create.account(privateKey);\n    account\n      .encrypt(password)\n      .then(account => {\n        setLoading(false);\n        onEncrypt({\n          provider: \"LOCAL\",\n          encryptedKey: account.encrypted,\n          address: account.address,\n          privateKey,\n          password,\n        });\n      })\n      .catch(error => {\n        setError(error.message);\n        setLoading(false);\n      });\n  };\n\n  return (\n    <>\n      <div className=\"field\">\n        <div className=\"label\">Password</div>\n        <PasswordInput\n          value={password}\n          onChange={val => setPassword(val)}\n          onKeyDown={() => {\n            if (password) {\n              encrypt();\n            }\n          }}\n        />\n      </div>\n\n      <div className=\"is-size-7 content\">\n        <ul>\n          <li>Password must be at least 6 characters long.</li>\n          <li>You will need this password to unlock your wallet.</li>\n        </ul>\n      </div>\n      <hr />\n      {error && <DisplayError message={error} onClose={() => setError(\"\")} />}\n      <button\n        disabled={!password}\n        onClick={encrypt}\n        type=\"button\"\n        className={`button is-primary ${isLoading ? \"is-loading\" : \"\"}`}\n      >\n        Encrypt!\n      </button>\n    </>\n  );\n};\n\nexport default EncryptPrivateKey;\n","import React, { useState } from \"react\";\nimport Neon from \"@cityofzion/neon-js\";\nimport DisplayError from \"../../../../components/display-error\";\n\ninterface VerifyPrivateKeyProps {\n  onVerify: (privateKey: string) => void;\n}\n\nconst VerifyPrivateKey = ({ onVerify }: VerifyPrivateKeyProps) => {\n  const [privateKey, setPrivateKey] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const verifyPrivatekey = () => {\n    if (privateKey) {\n      if (Neon.is.privateKey(privateKey) || Neon.is.wif(privateKey)) {\n        onVerify(privateKey);\n      } else {\n        setError(\"Please check your private key. It it not a valid type.\");\n      }\n    }\n  };\n\n  return (\n    <>\n      <div className=\"field\">\n        <label htmlFor=\"privatekey\" className=\"label\">\n          Private key\n        </label>\n        <input\n          id=\"privatekey\"\n          className=\"input\"\n          placeholder=\"Private Key\"\n          value={privateKey}\n          onChange={e => setPrivateKey(e.target.value)}\n          onKeyDown={e => {\n            if (e.keyCode === 13 && privateKey) {\n              verifyPrivatekey();\n            }\n          }}\n        />\n      </div>\n      {error && <DisplayError message={error} onClose={() => setError(\"\")} />}\n      <button\n        onClick={verifyPrivatekey}\n        disabled={!privateKey}\n        className={`button is-primary`}\n      >\n        Verify your private key\n      </button>\n    </>\n  );\n};\n\nexport default VerifyPrivateKey;\n","import React, { useState } from \"react\";\nimport BackupKeys from \"../create-wallet/components/backup\";\nimport VerifyPrivateKey from \"./components/verify-privatekey\";\nimport EncryptPrivateKey from \"./components/encrypt-privatekey\";\nimport { CurrentWalletProps } from \"../../../../../../../types\";\n\nconst ImportPrivatekey = (props: {\n  onConnected: (wallet: CurrentWalletProps) => void;\n}) => {\n  const [privateKey, setPrivateKey] = useState(\"\");\n  const [wallet, setWallet] = useState<CurrentWalletProps>();\n  if (wallet) {\n    return (\n      // @ts-ignore\n      <BackupKeys {...props} account={wallet} />\n    );\n  }\n  return (\n    <>\n      {privateKey ? (\n        // @ts-ignore\n        <EncryptPrivateKey\n          privateKey={privateKey}\n          onEncrypt={wallet => setWallet(wallet)}\n        />\n      ) : (\n        <VerifyPrivateKey onVerify={privateKey => setPrivateKey(privateKey)} />\n      )}\n    </>\n  );\n};\n\nexport default ImportPrivatekey;\n","import React, { useState } from \"react\";\nimport { CurrentWalletProps } from \"../../../../../../../../types\";\n\ninterface BackupKeysProps {\n  account: {\n    password: string;\n    address: string;\n    encryptedKey: string;\n    privateKey: string;\n  };\n  onConnected: (account: CurrentWalletProps) => void;\n}\n\nconst BackupKeys = (props: BackupKeysProps) => {\n  const [isAgreed, setAgreement] = useState(false);\n  const { account, onConnected } = props;\n  return (\n    <div>\n      <div className=\"notification is-info\">\n        You must save and backup the keys. If you lose them, you lose access to\n        your assets.\n      </div>\n      <div className=\"content\" style={{ wordBreak: \"break-all\" }}>\n        <ul>\n          <li>Password: {account.password}</li>\n          <li>Wallet address: {account.address}</li>\n          <li>Encrypted key: {account.encryptedKey}</li>\n          <li>Private key: {account.privateKey}</li>\n        </ul>\n      </div>\n      <hr />\n      <label className=\"checkbox\">\n        <input\n          type=\"checkbox\"\n          checked={isAgreed}\n          onChange={() => setAgreement(!isAgreed)}\n        />\n        &nbsp;&nbsp;I have saved the keys\n      </label>\n      <hr />\n      <button\n        disabled={!isAgreed}\n        className=\"button is-primary\"\n        onClick={() =>\n          onConnected({\n            provider: \"LOCAL\",\n            address: account.address,\n            encryptedKey: account.encryptedKey,\n            privateKey: account.privateKey,\n          })\n        }\n      >\n        Open wallet\n      </button>\n    </div>\n  );\n};\n\nexport default BackupKeys;\n"],"sourceRoot":""}